# =============================================
# NEUROCREDIT BACKEND ENVIRONMENT CONFIGURATION
# =============================================
# Copy this file to .env.backend and update with your actual values
# Remove comments in production for better security

# =============================================
# SERVER CONFIGURATION
# =============================================
NODE_ENV=development
PORT=5000
HOST=localhost
API_VERSION=v1
API_PREFIX=/api
API_TIMEOUT=30000

# =============================================
# DATABASE CONFIGURATION (MongoDB)
# =============================================
MONGODB_URI=mongodb://localhost:27017/neurocredit
SEED_DATABASE=true  # Set to false in production
DB_NAME=neurocredit
DB_HOST=localhost
DB_PORT=27017
# For production with authentication:
# DB_USER=your_mongodb_user
# DB_PASSWORD=your_mongodb_password
# DB_REPLICA_SET=your_replica_set

# =============================================
# JWT TOKEN CONFIGURATION
# =============================================
JWT_ACCESS_SECRET=neurocredit_access_secret_2024_change_in_production_64_chars_long
JWT_REFRESH_SECRET=neurocredit_refresh_secret_2024_change_in_production_64_chars_long
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
JWT_ISSUER=neurocredit-backend

# =============================================
# WEB3/BLOCKCHAIN CONFIGURATION
# =============================================
# Development (Local)
WEB3_PROVIDER_URL=http://localhost:8545
# Testnet (Sepolia)
# WEB3_PROVIDER_URL=https://sepolia.infura.io/v3/YOUR_INFURA_PROJECT_ID
# Mainnet
# WEB3_PROVIDER_URL=https://mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID

# Alternative Providers
MAINNET_PROVIDER=https://mainnet.infura.io/v3/YOUR_INFURA_KEY
POLYGON_PROVIDER=https://polygon-mainnet.infura.io/v3/YOUR_INFURA_KEY
ALCHEMY_API_KEY=your_alchemy_api_key_here

# Blockchain Settings
NETWORK_NAME=development
CHAIN_ID=1337
GAS_LIMIT=300000
GAS_PRICE=20000000000

# =============================================
# SMART CONTRACT ADDRESSES
# =============================================
# Update these after contract deployment
HUMANITY_REGISTRY_ADDRESS=0x0000000000000000000000000000000000000000
HUMANITY_NFT_ADDRESS=0x0000000000000000000000000000000000000000
DAO_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
BIOMETRIC_ORACLE_ADDRESS=0x0000000000000000000000000000000000000000

# =============================================
# BIOMETRIC CONFIGURATION
# =============================================
BIOMETRIC_HASH_SALT_ROUNDS=12
BIOMETRIC_PATTERN_THRESHOLD=0.8
BIOMETRIC_MIN_QUALITY=0.6
BIOMETRIC_SESSION_TIMEOUT=600000  # 10 minutes

# =============================================
# SECURITY CONFIGURATION
# =============================================
# Session
SESSION_SECRET=neurocredit_session_secret_2024_change_in_production

# Encryption
ENCRYPTION_KEY=your_32_character_super_secure_encryption_key
BCRYPT_ROUNDS=12

# CORS
CORS_ORIGIN=http://localhost:3000
# For production:
# CORS_ORIGIN=https://neurocredit.xyz,https://www.neurocredit.xyz

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_LOGINS=true

# Security Headers
HELMET_ENABLED=true
CSP_ENABLED=true

# =============================================
# FILE UPLOAD CONFIGURATION
# =============================================
MAX_FILE_SIZE=10485760  # 10MB
UPLOAD_PATH=./public/uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,video/mp4,video/webm,application/json

# =============================================
# LOGGING CONFIGURATION
# =============================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_FORMAT=dev  # dev, json, combined
LOG_MAX_SIZE=10485760  # 10MB
LOG_MAX_FILES=10

# =============================================
# CACHE CONFIGURATION
# =============================================
CACHE_TTL=300  # 5 minutes
CACHE_CHECK_PERIOD=120  # 2 minutes
CACHE_ENABLED=true

# Redis Configuration (Optional - for production)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================
# EMAIL CONFIGURATION (Optional)
# =============================================
EMAIL_ENABLED=false
EMAIL_PROVIDER=smtp  # smtp, sendgrid, mailgun
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM=noreply@neurocredit.xyz
EMAIL_SECURE=false

# SendGrid (Alternative)
SENDGRID_API_KEY=your_sendgrid_api_key
SENDGRID_FROM=notifications@neurocredit.xyz

# =============================================
# EXTERNAL SERVICES CONFIGURATION
# =============================================
# Infura
INFURA_PROJECT_ID=your_infura_project_id
INFURA_PROJECT_SECRET=your_infura_project_secret

# IPFS (Optional - for NFT metadata)
IPFS_API_URL=https://ipfs.infura.io:5001
IPFS_PROJECT_ID=your_ipfs_project_id
IPFS_PROJECT_SECRET=your_ipfs_project_secret

# AWS S3 (Optional - for file storage)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=neurocredit-uploads

# =============================================
# MONITORING & ANALYTICS (Optional)
# =============================================
SENTRY_DSN=your_sentry_dsn_url
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key
GOOGLE_ANALYTICS_ID=your_ga_tracking_id

# =============================================
# FEATURE FLAGS
# =============================================
FEATURE_BIOMETRIC_ENABLED=true
FEATURE_NFT_MINTING_ENABLED=true
FEATURE_DAO_GOVERNANCE_ENABLED=true
FEATURE_EMAIL_NOTIFICATIONS=false
FEATURE_SMS_VERIFICATION=false
FEATURE_MULTI_CHAIN_SUPPORT=false

# =============================================
# TESTING CONFIGURATION
# =============================================
# For test environment
TEST_DATABASE_URL=mongodb://localhost:27017/neurocredit_test
TEST_JWT_SECRET=test_jwt_secret_do_not_use_in_production
TEST_WEB3_PROVIDER=http://localhost:8545

# =============================================
# DEVELOPMENT-ONLY SETTINGS
# =============================================
# Only use in development environment
DEBUG=true
SKIP_SIGNATURE_VERIFICATION=false
SKIP_BIOMETRIC_VERIFICATION=false
MOCK_BLOCKCHAIN_CALLS=true
SEED_DATABASE=true

# =============================================
# PRODUCTION-ONLY SETTINGS
# =============================================
# Uncomment and set these in production
# CLUSTER_MODE=true
# CLUSTER_INSTANCES=max
# SSL_ENABLED=true
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem
# BEHIND_PROXY=true

# =============================================
# APPLICATION-SPECIFIC SETTINGS
# =============================================
# NeuroCredit Specific
MIN_HUMANITY_SCORE=0.7
MAX_BIOMETRIC_ATTEMPTS=3
DAO_PROPOSAL_DURATION_DAYS=7
NFT_MINTING_FEE_ETH=0.01
VERIFICATION_REWARD_POINTS=100

# Session Timeouts
USER_SESSION_TIMEOUT=86400000  # 24 hours
ADMIN_SESSION_TIMEOUT=7200000  # 2 hours
API_KEY_EXPIRY_DAYS=30

# =============================================
# BACKUP & MAINTENANCE
# =============================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # 2 AM daily
BACKUP_RETENTION_DAYS=30
AUTO_CLEANUP_OLD_SESSIONS=true
SESSION_CLEANUP_INTERVAL=3600000  # 1 hour